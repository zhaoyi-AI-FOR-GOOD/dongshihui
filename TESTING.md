# ç§äººè‘£äº‹ä¼šç³»ç»Ÿ - è‡ªåŠ¨åŒ–æµ‹è¯•æŒ‡å—

## ğŸ“‹ æµ‹è¯•æ¶æ„æ¦‚è¿°

æœ¬ç³»ç»Ÿé‡‡ç”¨å¤šå±‚çº§è‡ªåŠ¨åŒ–æµ‹è¯•ç­–ç•¥ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œç”¨æˆ·ä½“éªŒï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                E2E Tests                â”‚  â† ç”¨æˆ·è¡Œä¸ºéªŒè¯
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            Integration Tests            â”‚  â† ç»„ä»¶åä½œéªŒè¯  
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              Unit Tests                 â”‚  â† åŠŸèƒ½å•å…ƒéªŒè¯
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…æµ‹è¯•ä¾èµ–

```bash
# æ ¸å¿ƒæµ‹è¯•ä¾èµ–å·²å®‰è£…
npm install

# å®‰è£…Playwrightæµè§ˆå™¨
npx playwright install
```

### è¿è¡Œæ‰€æœ‰æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# è¿è¡ŒE2Eæµ‹è¯•
npm run test:e2e

# è¿è¡Œæ€§èƒ½æµ‹è¯•
npm run test:performance

# è¿è¡Œå¯è®¿é—®æ€§æµ‹è¯•
npm run test:a11y
```

## ğŸ§ª æµ‹è¯•ç±»å‹è¯¦è§£

### 1. å•å…ƒæµ‹è¯• (Unit Tests)

**ä½ç½®**: `src/__tests__/`
**æ¡†æ¶**: Jest + React Testing Library
**è¦†ç›–èŒƒå›´**: ç»„ä»¶ã€å·¥å…·å‡½æ•°ã€APIæœåŠ¡

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# å¸¦è¦†ç›–ç‡æŠ¥å‘Š
npm run test:ci
```

**æµ‹è¯•æ–‡ä»¶ç»“æ„**:
```
src/__tests__/
â”œâ”€â”€ components/          # ç»„ä»¶æµ‹è¯•
â”‚   â”œâ”€â”€ DirectorCard.test.js
â”‚   â””â”€â”€ MeetingCard.test.js
â”œâ”€â”€ pages/              # é¡µé¢æµ‹è¯•
â”‚   â”œâ”€â”€ BoardHall.test.js
â”‚   â””â”€â”€ MeetingHistory.test.js
â”œâ”€â”€ services/           # APIæœåŠ¡æµ‹è¯•
â”‚   â””â”€â”€ api.test.js
â”œâ”€â”€ utils/              # æµ‹è¯•å·¥å…·
â”‚   â””â”€â”€ test-utils.js
â””â”€â”€ mocks/              # MockæœåŠ¡
    â”œâ”€â”€ handlers.js
    â””â”€â”€ server.js
```

### 2. E2Eæµ‹è¯• (End-to-End Tests)

**ä½ç½®**: `e2e/`
**æ¡†æ¶**: Playwright
**è¦†ç›–èŒƒå›´**: å®Œæ•´ç”¨æˆ·æµç¨‹

```bash
# è¿è¡ŒE2Eæµ‹è¯•
npm run test:e2e

# äº¤äº’å¼è¿è¡Œ
npm run test:e2e:ui
```

**æµ‹è¯•åœºæ™¯**:
- âœ… è‘£äº‹ä¼šå¤§å…æµè§ˆå’Œå¯¼èˆª
- âœ… å®Œæ•´ä¼šè®®åˆ›å»ºå’Œç®¡ç†æµç¨‹
- âœ… ä¼šè®®æœç´¢å’Œç­›é€‰åŠŸèƒ½
- âœ… å“åº”å¼å¸ƒå±€é€‚é…
- âœ… é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ

### 3. æ€§èƒ½æµ‹è¯• (Performance Tests)

**å·¥å…·**: Lighthouse CI
**é…ç½®**: `.lighthouserc.js`

```bash
# è¿è¡Œæ€§èƒ½æµ‹è¯•
npm run test:performance
```

**æ€§èƒ½é¢„ç®—**:
- ğŸ¯ **LCP** < 3.5s
- ğŸ¯ **FCP** < 2.0s  
- ğŸ¯ **TBT** < 300ms
- ğŸ¯ **Performance Score** > 80

### 4. å¯è®¿é—®æ€§æµ‹è¯• (Accessibility Tests)

**å·¥å…·**: axe-core
**æ ‡å‡†**: WCAG 2.1 AA

```bash
# è¿è¡Œå¯è®¿é—®æ€§æµ‹è¯•
npm run test:a11y
```

## ğŸ”§ å¼€å‘å·¥ä½œæµ

### æœ¬åœ°å¼€å‘æµ‹è¯•

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm start

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯è¿è¡Œæµ‹è¯•
npm run test:unit -- --watch

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
npm test -- DirectorCard.test.js
```

### æäº¤å‰æ£€æŸ¥

```bash
# ä»£ç è´¨é‡æ£€æŸ¥
npm run lint

# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
npm run test:ci
npm run test:e2e

# æ ¼å¼åŒ–ä»£ç 
npm run format
```

### CI/CDé›†æˆ

æµ‹è¯•åœ¨ä»¥ä¸‹æƒ…å†µè‡ªåŠ¨è¿è¡Œï¼š

1. **æ¯æ¬¡æäº¤**: å•å…ƒæµ‹è¯•
2. **Pull Request**: å®Œæ•´æµ‹è¯•å¥—ä»¶
3. **ä¸»åˆ†æ”¯åˆå¹¶**: æ€§èƒ½æµ‹è¯• + éƒ¨ç½²éªŒè¯

## ğŸ“Š æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š

### æŸ¥çœ‹è¦†ç›–ç‡

```bash
# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:ci

# åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹è¯¦ç»†æŠ¥å‘Š
open coverage/lcov-report/index.html
```

### è¦†ç›–ç‡ç›®æ ‡

- ğŸ“ˆ **å•å…ƒæµ‹è¯•è¦†ç›–ç‡**: > 90%
- ğŸ“ˆ **é›†æˆæµ‹è¯•è¦†ç›–ç‡**: > 80%
- ğŸ“ˆ **E2EåŠŸèƒ½è¦†ç›–ç‡**: > 70%

## ğŸ¯ æµ‹è¯•æœ€ä½³å®è·µ

### å•å…ƒæµ‹è¯•åŸåˆ™

```javascript
// âœ… å¥½çš„æµ‹è¯•
test('åº”è¯¥æ­£ç¡®æ¸²æŸ“è‘£äº‹åŸºæœ¬ä¿¡æ¯', async () => {
  const mockDirector = { name: 'å²è’‚å¤«Â·ä¹”å¸ƒæ–¯', role: 'CEO' };
  
  renderWithProviders(<DirectorCard director={mockDirector} />);
  
  expect(screen.getByText('å²è’‚å¤«Â·ä¹”å¸ƒæ–¯')).toBeInTheDocument();
  expect(screen.getByText('CEO')).toBeInTheDocument();
});
```

### E2Eæµ‹è¯•åŸåˆ™

```javascript
// âœ… å¥½çš„E2Eæµ‹è¯•
test('å®Œæ•´ä¼šè®®åˆ›å»ºæµç¨‹', async ({ page }) => {
  // å¯¼èˆªåˆ°ä¼šè®®åˆ›å»ºé¡µé¢
  await page.goto('/meetings/create');
  
  // å¡«å†™ä¼šè®®ä¿¡æ¯
  await page.fill('[data-testid="title-input"]', 'æµ‹è¯•ä¼šè®®');
  await page.fill('[data-testid="topic-input"]', 'æµ‹è¯•è¯é¢˜');
  
  // é€‰æ‹©å‚ä¸è€…
  await page.click('[data-testid="participant-1"]');
  
  // åˆ›å»ºä¼šè®®
  await page.click('button:has-text("åˆ›å»ºä¼šè®®")');
  
  // éªŒè¯ç»“æœ
  await expect(page).toHaveURL(/\/meeting\/\w+/);
});
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æµ‹è¯•è¶…æ—¶**
```bash
# å¢åŠ æµ‹è¯•è¶…æ—¶æ—¶é—´
npm test -- --testTimeout=10000
```

2. **MockæœåŠ¡é—®é¢˜**
```javascript
// é‡ç½®MockçŠ¶æ€
afterEach(() => {
  server.resetHandlers();
});
```

3. **E2Eæµ‹è¯•å¤±è´¥**
```bash
# æŸ¥çœ‹æµ‹è¯•å½•åƒ
npx playwright show-trace trace.zip
```

## ğŸ“š æ‰©å±•æµ‹è¯•

### æ·»åŠ æ–°çš„å•å…ƒæµ‹è¯•

1. åœ¨ `src/__tests__/` ä¸‹åˆ›å»ºæµ‹è¯•æ–‡ä»¶
2. ä½¿ç”¨ `renderWithProviders` æ¸²æŸ“ç»„ä»¶
3. ç¼–å†™æµ‹è¯•æ–­è¨€
4. è¿è¡Œæµ‹è¯•éªŒè¯

### æ·»åŠ æ–°çš„E2Eæµ‹è¯•

1. åœ¨ `e2e/` ä¸‹åˆ›å»ºæµ‹è¯•æ–‡ä»¶
2. ä½¿ç”¨Playwright APIç¼–å†™ç”¨æˆ·åœºæ™¯
3. æ·»åŠ é€‚å½“çš„ç­‰å¾…å’Œæ–­è¨€
4. åœ¨å¤šä¸ªæµè§ˆå™¨ä¸­éªŒè¯

## ğŸ“ˆ æµ‹è¯•æŒ‡æ ‡ç›‘æ§

- **æµ‹è¯•æ‰§è¡Œæ—¶é—´**: å•å…ƒæµ‹è¯• < 30sï¼ŒE2Eæµ‹è¯• < 5min
- **æµ‹è¯•ç¨³å®šæ€§**: æˆåŠŸç‡ > 95%
- **æµ‹è¯•ç»´æŠ¤æˆæœ¬**: æ¯ä¸ªåŠŸèƒ½å˜æ›´å¯¹åº”æµ‹è¯•æ›´æ–°æ—¶é—´ < 20%

## ğŸ”— ç›¸å…³èµ„æº

- [Jest æ–‡æ¡£](https://jestjs.io/docs/getting-started)
- [React Testing Library](https://testing-library.com/docs/react-testing-library/intro/)
- [Playwright æ–‡æ¡£](https://playwright.dev/docs/intro)
- [Lighthouse CI](https://github.com/GoogleChrome/lighthouse-ci)
- [axe-core](https://github.com/dequelabs/axe-core)

---

ğŸ¯ **æµ‹è¯•ç›®æ ‡**: ç¡®ä¿ç§äººè‘£äº‹ä¼šç³»ç»Ÿçš„å¯é æ€§ã€æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒï¼