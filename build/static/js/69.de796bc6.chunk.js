"use strict";(self.webpackChunkdongshihui_frontend=self.webpackChunkdongshihui_frontend||[]).push([[69],{760:(e,t,o)=>{o.d(t,{A:()=>a});var r=o(3235),n=o(4414);const a=(0,r.A)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},3038:(e,t,o)=>{o.d(t,{A:()=>I});var r=o(8587),n=o(8168),a=o(9950),s=o(2004),i=o(8465),l=o(9269),c=o(6282),d=o(3235),u=o(4414);const h=(0,d.A)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=(0,d.A)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var A=o(1676),x=o(8463),v=o(9254),g=o(9608),f=o(1763),y=o(423);function j(e){return(0,y.Ay)("MuiCheckbox",e)}const b=(0,f.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),S=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],C=(0,v.Ay)(c.A,{shouldForwardProp:e=>(0,g.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.indeterminate&&t.indeterminate,t["size".concat((0,A.A)(o.size))],"default"!==o.color&&t["color".concat((0,A.A)(o.color))]]}})(e=>{let{theme:t,ownerState:o}=e;return(0,n.A)({color:(t.vars||t).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===o.color?t.vars.palette.action.activeChannel:t.vars.palette[o.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,l.X4)("default"===o.color?t.palette.action.active:t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&{["&.".concat(b.checked,", &.").concat(b.indeterminate)]:{color:(t.vars||t).palette[o.color].main},["&.".concat(b.disabled)]:{color:(t.vars||t).palette.action.disabled}})}),k=(0,u.jsx)(p,{}),w=(0,u.jsx)(h,{}),z=(0,u.jsx)(m,{}),I=a.forwardRef(function(e,t){var o,l;const c=(0,x.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:d=k,color:h="primary",icon:p=w,indeterminate:m=!1,indeterminateIcon:v=z,inputProps:g,size:f="medium",className:y}=c,b=(0,r.A)(c,S),I=m?v:p,M=m?v:d,R=(0,n.A)({},c,{color:h,indeterminate:m,size:f}),B=(e=>{const{classes:t,indeterminate:o,color:r,size:a}=e,s={root:["root",o&&"indeterminate","color".concat((0,A.A)(r)),"size".concat((0,A.A)(a))]},l=(0,i.A)(s,j,t);return(0,n.A)({},t,l)})(R);return(0,u.jsx)(C,(0,n.A)({type:"checkbox",inputProps:(0,n.A)({"data-indeterminate":m},g),icon:a.cloneElement(I,{fontSize:null!=(o=I.props.fontSize)?o:f}),checkedIcon:a.cloneElement(M,{fontSize:null!=(l=M.props.fontSize)?l:f}),ownerState:R,ref:t,className:(0,s.A)(B.root,y)},b,{classes:B}))})},3174:(e,t,o)=>{o.d(t,{A:()=>L});var r=o(8587),n=o(8168),a=o(9950),s=o(2004),i=o(8465),l=o(9269),c=o(9254),d=o(8463),u=o(4763),h=o(1676),p=o(2235),m=o(1763),A=o(423);function x(e){return(0,A.Ay)("MuiAlert",e)}const v=(0,m.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var g=o(5333),f=o(3235),y=o(4414);const j=(0,f.A)((0,y.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),b=(0,f.A)((0,y.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),S=(0,f.A)((0,y.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),C=(0,f.A)((0,y.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),k=(0,f.A)((0,y.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),w=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],z=(0,c.Ay)(p.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t["".concat(o.variant).concat((0,h.A)(o.color||o.severity))]]}})(e=>{let{theme:t}=e;const o="light"===t.palette.mode?l.e$:l.a,r="light"===t.palette.mode?l.a:l.e$;return(0,n.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(n,"Color")]:o(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(n,"StandardBg")]:r(t.palette[n].light,.9),["& .".concat(v.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(n,"IconColor")]}:{color:t.palette[n].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:o(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(v.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.dark}).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"filled"},style:(0,n.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(o,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(o,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main,color:t.palette.getContrastText(t.palette[o].main)})}})]})}),I=(0,c.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),M=(0,c.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),R=(0,c.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),B={success:(0,y.jsx)(j,{fontSize:"inherit"}),warning:(0,y.jsx)(b,{fontSize:"inherit"}),error:(0,y.jsx)(S,{fontSize:"inherit"}),info:(0,y.jsx)(C,{fontSize:"inherit"})},L=a.forwardRef(function(e,t){const o=(0,d.b)({props:e,name:"MuiAlert"}),{action:a,children:l,className:c,closeText:p="Close",color:m,components:A={},componentsProps:v={},icon:f,iconMapping:j=B,onClose:b,role:S="alert",severity:C="success",slotProps:L={},slots:P={},variant:F="standard"}=o,N=(0,r.A)(o,w),W=(0,n.A)({},o,{color:m,severity:C,variant:F,colorSeverity:m||C}),O=(e=>{const{variant:t,color:o,severity:r,classes:n}=e,a={root:["root","color".concat((0,h.A)(o||r)),"".concat(t).concat((0,h.A)(o||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,i.A)(a,x,n)})(W),_={slots:(0,n.A)({closeButton:A.CloseButton,closeIcon:A.CloseIcon},P),slotProps:(0,n.A)({},v,L)},[E,H]=(0,u.A)("closeButton",{elementType:g.A,externalForwardedProps:_,ownerState:W}),[T,V]=(0,u.A)("closeIcon",{elementType:k,externalForwardedProps:_,ownerState:W});return(0,y.jsxs)(z,(0,n.A)({role:S,elevation:0,ownerState:W,className:(0,s.A)(O.root,c),ref:t},N,{children:[!1!==f?(0,y.jsx)(I,{ownerState:W,className:O.icon,children:f||j[C]||B[C]}):null,(0,y.jsx)(M,{ownerState:W,className:O.message,children:l}),null!=a?(0,y.jsx)(R,{ownerState:W,className:O.action,children:a}):null,null==a&&b?(0,y.jsx)(R,{ownerState:W,className:O.action,children:(0,y.jsx)(E,(0,n.A)({size:"small","aria-label":p,title:p,color:"inherit",onClick:b},H,{children:(0,y.jsx)(T,(0,n.A)({fontSize:"small"},V))}))}):null]}))})},6282:(e,t,o)=>{o.d(t,{A:()=>j});var r=o(8587),n=o(8168),a=o(9950),s=o(2004),i=o(8465),l=o(1676),c=o(9254),d=o(9608),u=o(8733),h=o(9766),p=o(8079),m=o(1763),A=o(423);function x(e){return(0,A.Ay)("PrivateSwitchBase",e)}(0,m.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var v=o(4414);const g=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],f=(0,c.Ay)(p.A,{name:"MuiSwitchBase"})(e=>{let{ownerState:t}=e;return(0,n.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})}),y=(0,c.Ay)("input",{name:"MuiSwitchBase",shouldForwardProp:d.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),j=a.forwardRef(function(e,t){const{autoFocus:o,checked:a,checkedIcon:c,className:d,defaultChecked:p,disabled:m,disableFocusRipple:A=!1,edge:j=!1,icon:b,id:S,inputProps:C,inputRef:k,name:w,onBlur:z,onChange:I,onFocus:M,readOnly:R,required:B=!1,tabIndex:L,type:P,value:F}=e,N=(0,r.A)(e,g),[W,O]=(0,u.A)({controlled:a,default:Boolean(p),name:"SwitchBase",state:"checked"}),_=(0,h.A)();let E=m;_&&"undefined"===typeof E&&(E=_.disabled);const H="checkbox"===P||"radio"===P,T=(0,n.A)({},e,{checked:W,disabled:E,disableFocusRipple:A,edge:j}),V=(e=>{const{classes:t,checked:o,disabled:r,edge:n}=e,a={root:["root",o&&"checked",r&&"disabled",n&&"edge".concat((0,l.A)(n))],input:["input"]};return(0,i.A)(a,x,t)})(T);return(0,v.jsxs)(f,(0,n.A)({component:"span",className:(0,s.A)(V.root,d),centerRipple:!0,focusRipple:!A,disabled:E,tabIndex:null,role:void 0,onFocus:e=>{M&&M(e),_&&_.onFocus&&_.onFocus(e)},onBlur:e=>{z&&z(e),_&&_.onBlur&&_.onBlur(e)},ownerState:T,ref:t},N,{children:[(0,v.jsx)(y,(0,n.A)({autoFocus:o,checked:a,defaultChecked:p,className:V.input,disabled:E,id:H?S:void 0,name:w,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;O(t),I&&I(e,t)},readOnly:R,ref:k,required:B,ownerState:T,tabIndex:L,type:P},"checkbox"===P&&void 0===F?{}:{value:F},C)),W?c:b]}))})},7069:(e,t,o)=>{o.r(t),o.d(t,{default:()=>J});var r=o(9950),n=o(9808),a=o(2053),s=o(6491),i=o(8216),l=o(3174),c=o(899),d=o(8089),u=o(704),h=o(5333),p=o(5277),m=o(3464),A=o(33),x=o(8170),v=o(9925),g=o(249),f=o(4446),y=o(3038),j=o(8587),b=o(8168),S=o(2004),C=o(8465),k=o(3372),w=o(9254),z=o(8463),I=o(1763),M=o(423);function R(e){return(0,M.Ay)("MuiListItemAvatar",e)}(0,I.A)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var B=o(4414);const L=["className"],P=(0,w.Ay)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,"flex-start"===o.alignItems&&t.alignItemsFlexStart]}})(e=>{let{ownerState:t}=e;return(0,b.A)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})}),F=r.forwardRef(function(e,t){const o=(0,z.b)({props:e,name:"MuiListItemAvatar"}),{className:n}=o,a=(0,j.A)(o,L),s=r.useContext(k.A),i=(0,b.A)({},o,{alignItems:s.alignItems}),l=(e=>{const{alignItems:t,classes:o}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,C.A)(r,R,o)})(i);return(0,B.jsx)(P,(0,b.A)({className:(0,S.A)(l.root,n),ownerState:i,ref:t},a))});var N=o(1413),W=o(3563),O=o(9739),_=o(3256),E=o(760),H=o(6724),T=o(7920),V=o(8429),q=o(1521),D=o(922),Z=o(5887);const J=()=>{const e=(0,V.Zp)(),[t,o]=(0,r.useState)([]),[j,b]=(0,r.useState)([]),[S,C]=(0,r.useState)(!0),[k,w]=(0,r.useState)(!1),[z,I]=(0,r.useState)(!1),[M,R]=(0,r.useState)(null),[L,P]=(0,r.useState)(""),[J,$]=(0,r.useState)(""),[X,G]=(0,r.useState)([]),[K,Q]=(0,r.useState)(""),[U,Y]=(0,r.useState)("");(0,r.useEffect)(()=>{ee(),te()},[]);const ee=async()=>{try{const e=await fetch("https://dongshihui-api.jieshu2023.workers.dev/director-groups?user_id=default_user"),t=await e.json();t.success&&o(t.data)}catch(e){console.error("\u83b7\u53d6\u8463\u4e8b\u7ec4\u5408\u5931\u8d25:",e),Z.Ay.error("\u83b7\u53d6\u8463\u4e8b\u7ec4\u5408\u5931\u8d25")}finally{C(!1)}},te=async()=>{try{const e=await fetch("https://dongshihui-api.jieshu2023.workers.dev/directors"),t=await e.json();t.success&&b(t.data)}catch(e){console.error("\u83b7\u53d6\u8463\u4e8b\u5217\u8868\u5931\u8d25:",e)}},oe=()=>{P(""),$(""),G([])};return S?(0,B.jsx)(n.A,{maxWidth:"lg",sx:{py:4},children:(0,B.jsx)(a.A,{variant:"h6",children:"\u52a0\u8f7d\u4e2d..."})}):(0,B.jsxs)(n.A,{maxWidth:"lg",sx:{py:3},children:[(0,B.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,B.jsx)(a.A,{variant:"h4",component:"h1",children:"\u6211\u7684\u8463\u4e8b\u7ec4\u5408"}),(0,B.jsx)(i.A,{variant:"contained",startIcon:(0,B.jsx)(_.A,{}),onClick:()=>w(!0),children:"\u521b\u5efa\u65b0\u7ec4\u5408"})]}),0===t.length?(0,B.jsx)(l.A,{severity:"info",sx:{textAlign:"center"},children:"\u8fd8\u6ca1\u6709\u521b\u5efa\u4efb\u4f55\u8463\u4e8b\u7ec4\u5408\uff0c\u521b\u5efa\u4e00\u4e2a\u4e13\u5c5e\u7684\u8463\u4e8b\u4f1a\u5427\uff01"}):(0,B.jsx)(c.Ay,{container:!0,spacing:3,children:t.map(t=>(0,B.jsx)(c.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,B.jsx)(d.A,{sx:{height:"100%"},children:(0,B.jsxs)(u.A,{children:[(0,B.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[(0,B.jsx)(a.A,{variant:"h6",component:"h3",children:t.name}),(0,B.jsx)(h.A,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u8463\u4e8b\u7ec4\u5408\u5417\uff1f"))try{const t=await fetch("https://dongshihui-api.jieshu2023.workers.dev/director-groups/".concat(e,"?user_id=default_user"),{method:"DELETE"}),o=await t.json();o.success?(Z.Ay.success("\u8463\u4e8b\u7ec4\u5408\u5220\u9664\u6210\u529f"),ee()):Z.Ay.error(o.error||"\u5220\u9664\u5931\u8d25")}catch(t){console.error("\u5220\u9664\u7ec4\u5408\u5931\u8d25:",t),Z.Ay.error("\u5220\u9664\u7ec4\u5408\u5931\u8d25")}})(t.id),children:(0,B.jsx)(E.A,{})})]}),t.description&&(0,B.jsx)(a.A,{variant:"body2",color:"text.secondary",sx:{mb:2},children:t.description}),(0,B.jsxs)(s.A,{sx:{display:"flex",gap:1,mb:2},children:[(0,B.jsx)(p.A,{label:"".concat(t.member_count," \u4f4d\u8463\u4e8b"),size:"small",color:"primary",variant:"outlined"}),(0,B.jsx)(p.A,{label:"\u4f7f\u7528 ".concat(t.usage_count," \u6b21"),size:"small",variant:"outlined"})]}),(0,B.jsxs)(a.A,{variant:"caption",color:"text.secondary",display:"block",sx:{mb:2},children:["\u521b\u5efa\u4e8e ",(0,q.A)(new Date(t.created_at),"yyyy\u5e74MM\u6708dd\u65e5",{locale:D.A})]}),(0,B.jsxs)(s.A,{sx:{display:"flex",gap:1},children:[(0,B.jsx)(i.A,{variant:"contained",size:"small",startIcon:(0,B.jsx)(H.A,{}),onClick:()=>{R(t),I(!0)},sx:{flex:1},children:"\u521b\u5efa\u4f1a\u8bae"}),(0,B.jsx)(i.A,{variant:"outlined",size:"small",startIcon:(0,B.jsx)(T.A,{}),onClick:()=>e("/director-groups/".concat(t.id)),children:"\u67e5\u770b\u8be6\u60c5"})]})]})})},t.id))}),(0,B.jsxs)(m.A,{open:k,onClose:()=>w(!1),maxWidth:"md",fullWidth:!0,children:[(0,B.jsx)(A.A,{children:"\u521b\u5efa\u8463\u4e8b\u7ec4\u5408"}),(0,B.jsxs)(x.A,{children:[(0,B.jsx)(v.A,{fullWidth:!0,label:"\u7ec4\u5408\u540d\u79f0",value:L,onChange:e=>P(e.target.value),sx:{mb:2,mt:1}}),(0,B.jsx)(v.A,{fullWidth:!0,multiline:!0,rows:2,label:"\u7ec4\u5408\u63cf\u8ff0\uff08\u53ef\u9009\uff09",value:J,onChange:e=>$(e.target.value),sx:{mb:3}}),(0,B.jsx)(a.A,{variant:"subtitle1",gutterBottom:!0,children:"\u9009\u62e9\u8463\u4e8b\u6210\u5458\uff1a"}),(0,B.jsx)(g.A,{sx:{maxHeight:300,overflow:"auto"},children:j.map(e=>{var t;return(0,B.jsxs)(f.Ay,{dense:!0,button:!0,onClick:()=>{return t=e.id,void G(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},children:[(0,B.jsx)(y.A,{checked:X.includes(e.id),tabIndex:-1,disableRipple:!0}),(0,B.jsx)(F,{children:(0,B.jsx)(N.A,{src:e.avatar_url,children:null===(t=e.name)||void 0===t?void 0:t[0]})}),(0,B.jsx)(W.A,{primary:e.name,secondary:"".concat(e.title," \xb7 ").concat(e.era)})]},e.id)})}),(0,B.jsxs)(a.A,{variant:"caption",color:"text.secondary",children:["\u5df2\u9009\u62e9 ",X.length," \u4f4d\u8463\u4e8b"]})]}),(0,B.jsxs)(O.A,{children:[(0,B.jsx)(i.A,{onClick:()=>{w(!1),oe()},children:"\u53d6\u6d88"}),(0,B.jsx)(i.A,{onClick:async()=>{if(L.trim()&&0!==X.length)try{const e=await fetch("https://dongshihui-api.jieshu2023.workers.dev/director-groups",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:L.trim(),description:J.trim(),director_ids:X,user_id:"default_user"})}),t=await e.json();t.success?(Z.Ay.success("\u8463\u4e8b\u7ec4\u5408\u521b\u5efa\u6210\u529f\uff01"),w(!1),oe(),ee()):Z.Ay.error(t.error||"\u521b\u5efa\u5931\u8d25")}catch(e){console.error("\u521b\u5efa\u7ec4\u5408\u5931\u8d25:",e),Z.Ay.error("\u521b\u5efa\u7ec4\u5408\u5931\u8d25")}else Z.Ay.error("\u8bf7\u586b\u5199\u7ec4\u5408\u540d\u79f0\u5e76\u9009\u62e9\u81f3\u5c11\u4e00\u4f4d\u8463\u4e8b")},variant:"contained",disabled:!L.trim()||0===X.length,children:"\u521b\u5efa\u7ec4\u5408"})]})]}),(0,B.jsxs)(m.A,{open:z,onClose:()=>I(!1),maxWidth:"sm",fullWidth:!0,children:[(0,B.jsxs)(A.A,{children:['\u57fa\u4e8e "',null===M||void 0===M?void 0:M.name,'" \u521b\u5efa\u4f1a\u8bae']}),(0,B.jsxs)(x.A,{children:[(0,B.jsx)(v.A,{fullWidth:!0,label:"\u4f1a\u8bae\u6807\u9898",value:K,onChange:e=>Q(e.target.value),sx:{mb:2,mt:1}}),(0,B.jsx)(v.A,{fullWidth:!0,multiline:!0,rows:3,label:"\u8ba8\u8bba\u8bdd\u9898",value:U,onChange:e=>Y(e.target.value),placeholder:"\u8bf7\u8f93\u5165\u8981\u8ba8\u8bba\u7684\u8bdd\u9898..."}),M&&(0,B.jsx)(s.A,{sx:{mt:2},children:(0,B.jsxs)(a.A,{variant:"subtitle2",gutterBottom:!0,children:["\u5c06\u9080\u8bf7 ",M.member_count," \u4f4d\u8463\u4e8b\u53c2\u4e0e\u8ba8\u8bba"]})})]}),(0,B.jsxs)(O.A,{children:[(0,B.jsx)(i.A,{onClick:()=>{I(!1),Q(""),Y("")},children:"\u53d6\u6d88"}),(0,B.jsx)(i.A,{onClick:async()=>{if(K.trim()&&U.trim())try{const t=await fetch("https://dongshihui-api.jieshu2023.workers.dev/meetings/from-group/".concat(M.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:K.trim(),topic:U.trim(),discussion_mode:"round_robin",max_rounds:10})}),o=await t.json();o.success?(Z.Ay.success("\u4f1a\u8bae\u521b\u5efa\u6210\u529f\uff01"),I(!1),Q(""),Y(""),e("/meeting/".concat(o.data.id))):Z.Ay.error(o.error||"\u521b\u5efa\u4f1a\u8bae\u5931\u8d25")}catch(t){console.error("\u521b\u5efa\u4f1a\u8bae\u5931\u8d25:",t),Z.Ay.error("\u521b\u5efa\u4f1a\u8bae\u5931\u8d25")}else Z.Ay.error("\u8bf7\u586b\u5199\u4f1a\u8bae\u6807\u9898\u548c\u8bdd\u9898")},variant:"contained",disabled:!K.trim()||!U.trim(),children:"\u521b\u5efa\u4f1a\u8bae"})]})]})]})}}}]);