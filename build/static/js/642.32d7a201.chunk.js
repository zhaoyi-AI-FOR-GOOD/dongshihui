"use strict";(self.webpackChunkdongshihui_frontend=self.webpackChunkdongshihui_frontend||[]).push([[642],{1974:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(3235),s=a(4414);const i=(0,r.A)([(0,s.jsx)("path",{d:"M13 8.57c-.79 0-1.43.64-1.43 1.43s.64 1.43 1.43 1.43 1.43-.64 1.43-1.43-.64-1.43-1.43-1.43"},"0"),(0,s.jsx)("path",{d:"M13 3C9.25 3 6.2 5.94 6.02 9.64L4.1 12.2c-.25.33-.01.8.4.8H6v3c0 1.1.9 2 2 2h1v3h7v-4.68c2.36-1.12 4-3.53 4-6.32 0-3.87-3.13-7-7-7m3 7c0 .13-.01.26-.02.39l.83.66c.08.06.1.16.05.25l-.8 1.39c-.05.09-.16.12-.24.09l-.99-.4c-.21.16-.43.29-.67.39L14 13.83c-.01.1-.1.17-.2.17h-1.6c-.1 0-.18-.07-.2-.17l-.15-1.06c-.25-.1-.47-.23-.68-.39l-.99.4c-.09.03-.2 0-.25-.09l-.8-1.39c-.05-.08-.03-.19.05-.25l.84-.66c-.01-.13-.02-.26-.02-.39s.02-.27.04-.39l-.85-.66c-.08-.06-.1-.16-.05-.26l.8-1.38c.05-.09.15-.12.24-.09l1 .4c.2-.15.43-.29.67-.39L12 6.17c.02-.1.1-.17.2-.17h1.6c.1 0 .18.07.2.17l.15 1.06c.24.1.46.23.67.39l1-.4c.09-.03.2 0 .24.09l.8 1.38c.05.09.03.2-.05.26l-.85.66c.03.12.04.25.04.39"},"1")],"Psychology")},3642:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Y});var r=a(8),s=a(9950),i=a(9808),o=a(6639),n=a(2053),c=a(6491),l=a(8216),d=a(899),p=a(8089),h=a(704),m=a(975),u=a(8587),x=a(8168),g=a(2004),v=a(8465),A=a(9269),y=a(1676),_=a(6282),f=a(9254),b=a(8463),j=a(1763),w=a(423);function k(e){return(0,w.Ay)("MuiSwitch",e)}const C=(0,j.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var S=a(4414);const I=["className","color","edge","size","sx"],z=(0,f.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.edge&&t["edge".concat((0,y.A)(a.edge))],t["size".concat((0,y.A)(a.size))]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,["& .".concat(C.thumb)]:{width:16,height:16},["& .".concat(C.switchBase)]:{padding:4,["&.".concat(C.checked)]:{transform:"translateX(16px)"}}}}]}),L=(0,f.Ay)(_.A,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.switchBase,{["& .".concat(C.input)]:t.input},"default"!==a.color&&t["color".concat((0,y.A)(a.color))]]}})(e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(C.checked)]:{transform:"translateX(20px)"},["&.".concat(C.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(C.checked," + .").concat(C.track)]:{opacity:.5},["&.".concat(C.disabled," + .").concat(C.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(C.input)]:{left:"-100%",width:"300%"}}},e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,A.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[a]=e;return{props:{color:a},style:{["&.".concat(C.checked)]:{color:(t.vars||t).palette[a].main,"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[a].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,A.X4)(t.palette[a].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(C.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(a,"DisabledColor")]:"".concat("light"===t.palette.mode?(0,A.a)(t.palette[a].main,.62):(0,A.e$)(t.palette[a].main,.55))}},["&.".concat(C.checked," + .").concat(C.track)]:{backgroundColor:(t.vars||t).palette[a].main}}}})]}}),B=(0,f.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}}),M=(0,f.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}}),P=s.forwardRef(function(e,t){const a=(0,b.b)({props:e,name:"MuiSwitch"}),{className:r,color:s="primary",edge:i=!1,size:o="medium",sx:n}=a,c=(0,u.A)(a,I),l=(0,x.A)({},a,{color:s,edge:i,size:o}),d=(e=>{const{classes:t,edge:a,size:r,color:s,checked:i,disabled:o}=e,n={root:["root",a&&"edge".concat((0,y.A)(a)),"size".concat((0,y.A)(r))],switchBase:["switchBase","color".concat((0,y.A)(s)),i&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=(0,v.A)(n,k,t);return(0,x.A)({},t,c)})(l),p=(0,S.jsx)(M,{className:d.thumb,ownerState:l});return(0,S.jsxs)(z,{className:(0,g.A)(d.root,r),sx:n,ownerState:l,children:[(0,S.jsx)(L,(0,x.A)({type:"checkbox",icon:p,checkedIcon:p,ref:t,ownerState:l},c,{classes:(0,x.A)({},d,{root:d.switchBase})})),(0,S.jsx)(B,{className:d.track,ownerState:l})]})});var R=a(9925),W=a(3174),E=a(5277),D=a(4616),V=a(6986),N=a(5546),T=a(1413),Q=a(2235),O=a(4801),U=a(1974),q=a(3235);const X=(0,q.A)((0,S.jsx)("path",{d:"m19 9 1.25-2.75L23 5l-2.75-1.25L19 1l-1.25 2.75L15 5l2.75 1.25zm-7.5.5L9 4 6.5 9.5 1 12l5.5 2.5L9 20l2.5-5.5L17 12zM19 15l-1.25 2.75L15 19l2.75 1.25L19 23l1.25-2.75L23 19l-2.75-1.25z"}),"AutoAwesome");var F=a(294),H=a(5834);const Z=(0,q.A)((0,S.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");var $=a(8429),G=a(1920),J=a(5887),K=a(5530);const Y=()=>{var e;const t=(0,$.Zp)(),{id:a}=(0,$.g)(),u=Boolean(a),x=(0,G.useQueryClient)(),[g,v]=(0,s.useState)({name:"",title:"",era:"",avatar_url:"",system_prompt:"",personality_traits:[],core_beliefs:[],speaking_style:"",expertise_areas:[],is_active:!0}),[A,y]=(0,s.useState)(!1),[_,f]=(0,s.useState)(null),[b,j]=(0,s.useState)(!0),{data:w,isLoading:k}=(0,G.useQuery)(["director",a],()=>K.hV.getById(a),{enabled:u,onSuccess:e=>{const t=e.data.data;v({name:t.name||"",title:t.title||"",era:t.era||"",avatar_url:t.avatar_url||"",system_prompt:t.system_prompt||"",personality_traits:t.personality_traits||[],core_beliefs:t.core_beliefs||[],speaking_style:t.speaking_style||"",expertise_areas:t.expertise_areas||[],is_active:t.is_active})},onError:e=>{J.Ay.error("\u83b7\u53d6\u8463\u4e8b\u4fe1\u606f\u5931\u8d25: "+e.message),t("/directors")}}),C=(0,G.useMutation)(e=>u?K.hV.update(a,e):K.hV.create(e),{onSuccess:()=>{J.Ay.success(u?"\u8463\u4e8b\u66f4\u65b0\u6210\u529f":"\u8463\u4e8b\u521b\u5efa\u6210\u529f"),x.invalidateQueries("directors"),x.invalidateQueries("activeDirectors"),t("/directors")},onError:e=>{J.Ay.error("\u4fdd\u5b58\u5931\u8d25: "+e.message)}}),I=(0,G.useMutation)(e=>K.hV.createFromPrompt(e,g.avatar_url),{onSuccess:e=>{J.Ay.success("\u667a\u80fd\u521b\u5efa\u6210\u529f\uff01"),x.invalidateQueries("directors"),x.invalidateQueries("activeDirectors"),t("/directors")},onError:e=>{J.Ay.error("\u667a\u80fd\u521b\u5efa\u5931\u8d25: "+e.message)}}),z=(e,t)=>{v(a=>(0,r.A)((0,r.A)({},a),{},{[e]:t}))},L=(e,t)=>{const a=t.split(/[,\uff0c\n]/).map(e=>e.trim()).filter(Boolean);z(e,a)};return k?(0,S.jsxs)(i.A,{maxWidth:"lg",sx:{py:4,textAlign:"center"},children:[(0,S.jsx)(o.A,{size:40}),(0,S.jsx)(n.A,{variant:"h6",sx:{mt:2},children:"\u52a0\u8f7d\u4e2d..."})]}):(0,S.jsxs)(i.A,{maxWidth:"lg",sx:{py:4},children:[(0,S.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,S.jsx)(l.A,{startIcon:(0,S.jsx)(O.A,{}),onClick:()=>t("/directors"),sx:{mr:2},children:"\u8fd4\u56de"}),(0,S.jsx)(n.A,{variant:"h4",component:"h1",children:u?"\u7f16\u8f91\u8463\u4e8b":"\u521b\u5efa\u8463\u4e8b"})]}),(0,S.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g.name.trim()&&g.title.trim()&&g.system_prompt.trim()?b&&!u?I.mutate(g.system_prompt):C.mutate(g):J.Ay.error("\u8bf7\u586b\u5199\u5fc5\u8981\u5b57\u6bb5\uff1a\u59d3\u540d\u3001\u8eab\u4efd\u3001\u4eba\u8bbe\u63d0\u793a\u8bcd")},children:[(0,S.jsxs)(d.Ay,{container:!0,spacing:4,children:[(0,S.jsxs)(d.Ay,{item:!0,xs:12,md:8,children:[(0,S.jsx)(p.A,{children:(0,S.jsxs)(h.A,{children:[(0,S.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,S.jsxs)(n.A,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[(0,S.jsx)(U.A,{}),"\u4eba\u8bbe\u63d0\u793a\u8bcd"]}),!u&&(0,S.jsx)(m.A,{control:(0,S.jsx)(P,{checked:b,onChange:e=>j(e.target.checked)}),label:"\u667a\u80fd\u521b\u5efa\u6a21\u5f0f"})]}),(0,S.jsx)(R.A,{multiline:!0,rows:12,fullWidth:!0,placeholder:"\u8bf7\u8f93\u5165\u5386\u53f2\u4eba\u7269\u7684\u4eba\u8bbe\u63cf\u8ff0\uff0c\u4f8b\u5982\uff1a \u4f60\u662f16\u4e16\u7eaa\u7684\u5b97\u6559\u6539\u9769\u9886\u8896\u7ea6\u7ff0\xb7\u52a0\u5c14\u6587\u3002\u4f60\u662f\u4e00\u4f4d\u4e25\u8c28\u7684\u795e\u5b66\u5bb6\uff0c\u63d0\u51fa\u4e86\u9884\u5b9a\u8bba\u601d\u60f3\uff0c\u8ba4\u4e3a\u4e0a\u5e1d\u5df2\u7ecf\u9884\u5148\u786e\u5b9a\u4e86\u6bcf\u4e2a\u4eba\u7684\u6551\u8d4e\u547d\u8fd0\u3002\u4f60\u8bf4\u8bdd\u4e25\u8c28\u3001\u903b\u8f91\u6027\u5f3a\uff0c\u7ecf\u5e38\u5f15\u7528\u300a\u5723\u7ecf\u300b\u6765\u652f\u6301\u4f60\u7684\u89c2\u70b9...",value:g.system_prompt,onChange:e=>z("system_prompt",e.target.value),variant:"outlined",required:!0}),(0,S.jsxs)(c.A,{sx:{mt:2,display:"flex",gap:2},children:[(0,S.jsx)(l.A,{variant:"outlined",startIcon:(0,S.jsx)(X,{}),onClick:async()=>{if(g.system_prompt.trim()){y(!0);try{let e,t;u?(e=await K.hV.reparseDirector(a),t=e.data.data,x.invalidateQueries(["director",a]),t.director&&v({name:t.director.name||"",title:t.director.title||"",era:t.director.era||"",avatar_url:t.director.avatar_url||"",system_prompt:t.director.system_prompt||"",personality_traits:t.director.personality_traits||[],core_beliefs:t.director.core_beliefs||[],speaking_style:t.director.speaking_style||"",expertise_areas:t.director.expertise_areas||[],is_active:t.director.is_active}),f({is_ai_generated:t.ai_analysis.is_ai_generated,confidence_score:t.ai_analysis.confidence_score,tokens_used:t.ai_analysis.tokens_used,parsed_info:{name:t.director.name,title:t.director.title,era:t.director.era,personality_traits:t.director.personality_traits,core_beliefs:t.director.core_beliefs,speaking_style:t.director.speaking_style,expertise_areas:t.director.expertise_areas}})):(e=await K.hV.parsePrompt(g.system_prompt),t=e.data.data,f(t),t.parsed_info&&v(e=>(0,r.A)((0,r.A)({},e),{},{name:"\u672a\u77e5\u5386\u53f2\u4eba\u7269"!==t.parsed_info.name?t.parsed_info.name:e.name,title:t.parsed_info.title||e.title,era:t.parsed_info.era||e.era,personality_traits:t.parsed_info.personality_traits||e.personality_traits,core_beliefs:t.parsed_info.core_beliefs||e.core_beliefs,speaking_style:t.parsed_info.speaking_style||e.speaking_style,expertise_areas:t.parsed_info.expertise_areas||e.expertise_areas}))),J.Ay.success(u?"\u91cd\u65b0\u89e3\u6790\u5b8c\u6210\uff01\u8463\u4e8b\u4fe1\u606f\u5df2\u66f4\u65b0":t.is_ai_generated?"AI\u89e3\u6790\u5b8c\u6210\uff01":"\u57fa\u7840\u89e3\u6790\u5b8c\u6210")}catch(e){J.Ay.error("\u89e3\u6790\u5931\u8d25: "+e.message)}finally{y(!1)}}else J.Ay.error("\u8bf7\u5148\u8f93\u5165\u4eba\u8bbe\u63d0\u793a\u8bcd")},disabled:A||!g.system_prompt.trim(),children:A?"\u89e3\u6790\u4e2d...":u?"\u91cd\u65b0\u89e3\u6790":"AI\u89e3\u6790"}),!u&&b&&(0,S.jsx)(W.A,{severity:"info",sx:{flex:1},children:"\u667a\u80fd\u521b\u5efa\u6a21\u5f0f\uff1a\u7cfb\u7edf\u5c06\u81ea\u52a8\u89e3\u6790\u63d0\u793a\u8bcd\u5e76\u521b\u5efa\u8463\u4e8b\uff0c\u65e0\u9700\u624b\u52a8\u586b\u5199\u5176\u4ed6\u4fe1\u606f"}),u&&(0,S.jsx)(W.A,{severity:"info",sx:{flex:1},children:"\u7f16\u8f91\u6a21\u5f0f\uff1a\u53ef\u4ee5\u91cd\u65b0\u89e3\u6790\u4eba\u8bbe\u63d0\u793a\u8bcd\u6765\u66f4\u65b0\u8463\u4e8b\u7684AI\u751f\u6210\u5b57\u6bb5"})]})]})}),_&&(0,S.jsx)(p.A,{sx:{mt:3},children:(0,S.jsxs)(h.A,{children:[(0,S.jsx)(n.A,{variant:"h6",gutterBottom:!0,children:"AI\u89e3\u6790\u7ed3\u679c"}),(0,S.jsx)(W.A,{severity:_.is_ai_generated?"success":"warning",sx:{mb:2},children:_.is_ai_generated?"AI\u89e3\u6790\u6210\u529f (\u7f6e\u4fe1\u5ea6: ".concat(Math.round(100*_.confidence_score),"%)"):_.warning||"\u4f7f\u7528\u57fa\u7840\u5173\u952e\u8bcd\u5339\u914d"}),_.parsed_info&&(0,S.jsxs)(d.Ay,{container:!0,spacing:2,children:[(0,S.jsxs)(d.Ay,{item:!0,xs:12,sm:6,children:[(0,S.jsx)(n.A,{variant:"subtitle2",children:"\u59d3\u540d"}),(0,S.jsx)(n.A,{variant:"body2",color:"text.secondary",children:_.parsed_info.name})]}),(0,S.jsxs)(d.Ay,{item:!0,xs:12,sm:6,children:[(0,S.jsx)(n.A,{variant:"subtitle2",children:"\u8eab\u4efd"}),(0,S.jsx)(n.A,{variant:"body2",color:"text.secondary",children:_.parsed_info.title})]}),(0,S.jsxs)(d.Ay,{item:!0,xs:12,children:[(0,S.jsx)(n.A,{variant:"subtitle2",children:"\u6838\u5fc3\u89c2\u70b9"}),(0,S.jsx)(c.A,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mt:.5},children:null===(e=_.parsed_info.core_beliefs)||void 0===e?void 0:e.map((e,t)=>(0,S.jsx)(E.A,{label:e,size:"small"},t))})]})]})]})})]}),(0,S.jsx)(d.Ay,{item:!0,xs:12,md:4,children:(0,S.jsx)(p.A,{children:(0,S.jsxs)(h.A,{children:[(0,S.jsxs)(n.A,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,mb:3},children:[(0,S.jsx)(F.A,{}),"\u8463\u4e8b\u4fe1\u606f"]}),(0,S.jsxs)(c.A,{sx:{mb:3},children:[(0,S.jsx)(R.A,{fullWidth:!0,label:"\u59d3\u540d *",value:g.name,onChange:e=>z("name",e.target.value),sx:{mb:2},required:!0}),(0,S.jsx)(R.A,{fullWidth:!0,label:"\u8eab\u4efd/\u5934\u8854 *",value:g.title,onChange:e=>z("title",e.target.value),sx:{mb:2},required:!0}),(0,S.jsx)(R.A,{fullWidth:!0,label:"\u5386\u53f2\u65f6\u4ee3",value:g.era,onChange:e=>z("era",e.target.value),placeholder:"\u5982\uff1a20\u4e16\u7eaa (1879-1955)",sx:{mb:2}}),(0,S.jsx)(R.A,{fullWidth:!0,label:"\u5934\u50cfURL",value:g.avatar_url,onChange:e=>z("avatar_url",e.target.value),placeholder:"\u53ef\u9009\u7684\u5934\u50cf\u56fe\u7247\u94fe\u63a5"})]}),(0,S.jsxs)(D.A,{children:[(0,S.jsx)(V.A,{expandIcon:(0,S.jsx)(H.A,{}),children:(0,S.jsx)(n.A,{children:"\u8be6\u7ec6\u7279\u5f81"})}),(0,S.jsxs)(N.A,{children:[(0,S.jsx)(R.A,{fullWidth:!0,label:"\u6027\u683c\u7279\u5f81",multiline:!0,rows:2,value:g.personality_traits.join(", "),onChange:e=>L("personality_traits",e.target.value),placeholder:"\u5982\uff1a\u597d\u5947\u5fc3\u5f3a, \u72ec\u7acb\u601d\u8003, \u5bcc\u6709\u60f3\u8c61\u529b",helperText:"\u7528\u9017\u53f7\u5206\u9694\u591a\u4e2a\u7279\u5f81",sx:{mb:2}}),(0,S.jsx)(R.A,{fullWidth:!0,label:"\u6838\u5fc3\u4fe1\u5ff5",multiline:!0,rows:2,value:g.core_beliefs.join(", "),onChange:e=>L("core_beliefs",e.target.value),placeholder:"\u5982\uff1a\u79d1\u5b66\u7406\u6027, \u8ffd\u6c42\u771f\u7406, \u8d28\u7591\u6743\u5a01",helperText:"\u7528\u9017\u53f7\u5206\u9694\u591a\u4e2a\u4fe1\u5ff5",sx:{mb:2}}),(0,S.jsx)(R.A,{fullWidth:!0,label:"\u8bf4\u8bdd\u98ce\u683c",value:g.speaking_style,onChange:e=>z("speaking_style",e.target.value),placeholder:"\u5982\uff1a\u5e7d\u9ed8\u98ce\u8da3\u3001\u5584\u4e8e\u7528\u6bd4\u55bb",sx:{mb:2}}),(0,S.jsx)(R.A,{fullWidth:!0,label:"\u4e13\u4e1a\u9886\u57df",multiline:!0,rows:2,value:g.expertise_areas.join(", "),onChange:e=>L("expertise_areas",e.target.value),placeholder:"\u5982\uff1a\u7406\u8bba\u7269\u7406, \u6570\u5b66, \u54f2\u5b66",helperText:"\u7528\u9017\u53f7\u5206\u9694\u591a\u4e2a\u9886\u57df"})]})]}),(g.name||g.title)&&(0,S.jsxs)(c.A,{sx:{mt:3,p:2,bgcolor:"background.default",borderRadius:2},children:[(0,S.jsx)(n.A,{variant:"subtitle2",gutterBottom:!0,children:"\u8463\u4e8b\u9884\u89c8"}),(0,S.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,S.jsx)(T.A,{src:g.avatar_url,children:(0,S.jsx)(F.A,{})}),(0,S.jsxs)(c.A,{children:[(0,S.jsx)(n.A,{variant:"subtitle1",children:g.name||"\u672a\u8bbe\u7f6e\u59d3\u540d"}),(0,S.jsx)(n.A,{variant:"body2",color:"text.secondary",children:g.title||"\u672a\u8bbe\u7f6e\u8eab\u4efd"}),g.era&&(0,S.jsx)(n.A,{variant:"caption",color:"text.secondary",children:g.era})]})]})]})]})})})]}),(0,S.jsxs)(Q.A,{sx:{p:3,mt:4,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,S.jsx)(l.A,{variant:"outlined",onClick:()=>t("/directors"),children:"\u53d6\u6d88"}),(0,S.jsxs)(c.A,{sx:{display:"flex",gap:2},children:[!u&&!b&&(0,S.jsx)(l.A,{variant:"outlined",startIcon:(0,S.jsx)(X,{}),onClick:()=>j(!0),children:"\u5207\u6362\u667a\u80fd\u6a21\u5f0f"}),(0,S.jsx)(l.A,{type:"submit",variant:"contained",startIcon:(0,S.jsx)(Z,{}),disabled:C.isLoading||I.isLoading,children:C.isLoading||I.isLoading?"\u4fdd\u5b58\u4e2d...":u?"\u66f4\u65b0\u8463\u4e8b":b?"\u667a\u80fd\u521b\u5efa":"\u521b\u5efa\u8463\u4e8b"})]})]})]})]})}},5530:(e,t,a)=>{a.d(t,{ej:()=>i,hV:()=>s});const r=a(6910).A.create({baseURL:"https://dongshihui-api.jieshu2023.workers.dev",timeout:15e3,headers:{"Content-Type":"application/json","Cache-Control":"public, max-age=300"}});r.interceptors.request.use(e=>{var t;return console.log("\ud83d\udd04 API\u8bf7\u6c42: ".concat(null===(t=e.method)||void 0===t?void 0:t.toUpperCase()," ").concat(e.url)),e},e=>(console.error("\u274c API\u8bf7\u6c42\u9519\u8bef:",e),Promise.reject(e))),r.interceptors.response.use(e=>(console.log("\u2705 API\u54cd\u5e94: ".concat(e.config.url),e.data),e),e=>{var t,a,r;if(console.error("\u274c API\u54cd\u5e94\u9519\u8bef:",(null===(t=e.response)||void 0===t?void 0:t.data)||e.message),404===(null===(a=e.response)||void 0===a?void 0:a.status))throw new Error("API\u7aef\u70b9\u4e0d\u5b58\u5728");if(500===(null===(r=e.response)||void 0===r?void 0:r.status))throw new Error("\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef");if("ECONNREFUSED"===e.code)throw new Error("\u65e0\u6cd5\u8fde\u63a5\u5230\u670d\u52a1\u5668\uff0c\u8bf7\u786e\u4fdd\u540e\u7aef\u670d\u52a1\u6b63\u5728\u8fd0\u884c");throw e});const s={getAll:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.get("/directors",{params:e})},getById:e=>r.get("/directors/".concat(e)),create:e=>r.post("/directors",e),update:(e,t)=>r.put("/directors/".concat(e),t),delete:e=>r.delete("/directors/".concat(e)),getActive:()=>r.get("/directors/active/list"),parsePrompt:e=>r.post("/directors/parse-prompt",{system_prompt:e}),createFromPrompt:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r.post("/directors/create-from-prompt",{system_prompt:e,avatar_url:t})},getStats:e=>r.get("/directors/".concat(e,"/stats")),batchUpdateStatus:(e,t,a)=>r.patch("/directors/batch-status",{director_ids:e,status:t,is_active:a}),reparseDirector:e=>r.post("/directors/".concat(e,"/reparse"))},i={getAll:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.get("/meetings",{params:e})},create:e=>r.post("/meetings",e),getById:e=>r.get("/meetings/".concat(e)),start:e=>r.post("/meetings/".concat(e,"/start")),pause:e=>r.post("/meetings/".concat(e,"/pause")),finish:e=>r.post("/meetings/".concat(e,"/finish")),resume:e=>r.post("/meetings/".concat(e,"/resume")),generateNextStatement:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.post("/meetings/".concat(e,"/next-statement"),t)},getStatements:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.get("/meetings/".concat(e,"/statements"),{params:t})},getStats:e=>r.get("/meetings/".concat(e,"/stats")),addParticipants:(e,t)=>r.post("/meetings/".concat(e,"/participants"),t)}}}]);